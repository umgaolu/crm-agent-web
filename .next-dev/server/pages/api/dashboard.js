"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/dashboard";
exports.ids = ["pages/api/dashboard"];
exports.modules = {

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/***/ ((module) => {

module.exports = require("dayjs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@supabase/supabase-js");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\dashboard.ts */ \"(api)/./pages/api/dashboard.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/dashboard\",\n        pathname: \"/api/dashboard\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_dashboard_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZGFzaGJvYXJkLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3JtLWFnZW50LXdlYi8/NDg0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGRhc2hib2FyZC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Rhc2hib2FyZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/dashboard.ts":
/*!********************************!*\
  !*** ./pages/api/dashboard.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__]);\n_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction readEnv(value) {\n    const raw = value !== null && value !== undefined ? String(value).trim() : \"\";\n    if (!raw) {\n        return \"\";\n    }\n    return raw.replace(/^['\"`]/, \"\").replace(/['\"`]$/, \"\").trim();\n}\nconst supabaseUrl = readEnv(\"https://vvrokpefmojngpoxvsan.supabase.co\");\nconst supabaseKey = readEnv(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2cm9rcGVmbW9qbmdwb3h2c2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4MzUzNTIsImV4cCI6MjA4MzQxMTM1Mn0.t-tHn0A7uzizGEytzeaNvz-i5BGL9sqq-yGOvGE2crQ\" || 0);\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey || \"\");\nfunction getMonthRange() {\n    const now = dayjs__WEBPACK_IMPORTED_MODULE_1___default()();\n    const start = now.startOf(\"month\");\n    const end = now.endOf(\"month\");\n    return {\n        start,\n        end,\n        startStr: start.format(\"YYYY-MM-DD HH:mm:ss\"),\n        endStr: end.format(\"YYYY-MM-DD HH:mm:ss\")\n    };\n}\nfunction getLastNDaysRange(days) {\n    const today = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().startOf(\"day\");\n    const start = today.subtract(days - 1, \"day\");\n    return {\n        start,\n        end: today,\n        startStr: start.format(\"YYYY-MM-DD 00:00:00\"),\n        endStr: today.format(\"YYYY-MM-DD 23:59:59\")\n    };\n}\nfunction buildDateList(start, end) {\n    const dates = [];\n    let cur = start.startOf(\"day\");\n    const last = end.startOf(\"day\");\n    while(cur.isBefore(last) || cur.isSame(last)){\n        dates.push(cur.format(\"YYYY-MM-DD\"));\n        cur = cur.add(1, \"day\");\n    }\n    return dates;\n}\nasync function handler(req, res) {\n    res.setHeader(\"Cache-Control\", \"no-store\");\n    const expectedToken = process.env.CRM_API_TOKEN;\n    const headerToken = req.headers[\"x-crm-token\"];\n    const token = Array.isArray(headerToken) ? headerToken[0] : headerToken;\n    if (expectedToken && token !== expectedToken) {\n        res.status(401).json({\n            error: \"Unauthorized\"\n        });\n        return;\n    }\n    if (!supabaseUrl || !supabaseKey) {\n        res.status(500).json({\n            error: \"Supabase配置缺失\"\n        });\n        return;\n    }\n    if (req.method !== \"GET\") {\n        res.setHeader(\"Allow\", \"GET\");\n        res.status(405).end(\"Method Not Allowed\");\n        return;\n    }\n    try {\n        const monthRange = getMonthRange();\n        const last15Range = getLastNDaysRange(15);\n        const [ordersResult, leadsResult, staffResult] = await Promise.all([\n            supabase.from(\"sales_orders\").select(\"*\").gte(\"订单日期\", last15Range.startStr).lte(\"订单日期\", last15Range.endStr).in(\"订单状态\", [\n                \"已付款\",\n                \"已发货\",\n                \"已完成\"\n            ]),\n            supabase.from(\"customer_leads\").select(\"*\").gte(\"创建日期\", monthRange.startStr).lte(\"创建日期\", monthRange.endStr),\n            supabase.from(\"sales_staff\").select(\"*\")\n        ]);\n        if (ordersResult.error) {\n            res.status(500).json({\n                error: ordersResult.error.message\n            });\n            return;\n        }\n        if (leadsResult.error) {\n            res.status(500).json({\n                error: leadsResult.error.message\n            });\n            return;\n        }\n        if (staffResult.error) {\n            res.status(500).json({\n                error: staffResult.error.message\n            });\n            return;\n        }\n        const ordersData = ordersResult.data || [];\n        const leadsData = leadsResult.data || [];\n        const staffData = staffResult.data || [];\n        const monthlyOrders = ordersData.filter((row)=>{\n            const dateStr = row[\"订单日期\"];\n            if (!dateStr) {\n                return false;\n            }\n            const d = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(dateStr);\n            return d.isAfter(monthRange.start) || d.isSame(monthRange.start) ? d.isBefore(monthRange.end) || d.isSame(monthRange.end) : false;\n        });\n        let monthlySales = 0;\n        const monthlyCustomerSet = new Set();\n        for (const row of monthlyOrders){\n            const amount = typeof row[\"总金额\"] === \"number\" ? row[\"总金额\"] : 0;\n            monthlySales += amount || 0;\n            const customerName = typeof row[\"客户姓名\"] === \"string\" ? row[\"客户姓名\"] : \"\";\n            if (customerName) {\n                monthlyCustomerSet.add(customerName);\n            }\n        }\n        const monthlyCustomers = monthlyCustomerSet.size;\n        const monthlyOrdersCount = monthlyOrders.length;\n        let targetValue = 0;\n        for (const row of staffData){\n            const value = typeof row[\"销售目标\"] === \"number\" ? row[\"销售目标\"] : 0;\n            if (value > 0) {\n                targetValue += value;\n            }\n        }\n        const performanceRatio = targetValue > 0 ? monthlySales / targetValue : 0;\n        const dates = buildDateList(last15Range.start, last15Range.end);\n        const salesByDate = {};\n        const customersByDate = {};\n        const ordersByDate = {};\n        for (const date of dates){\n            salesByDate[date] = 0;\n            customersByDate[date] = new Set();\n            ordersByDate[date] = 0;\n        }\n        for (const row of ordersData){\n            const dateStr = row[\"订单日期\"];\n            if (!dateStr) {\n                continue;\n            }\n            const d = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(dateStr).format(\"YYYY-MM-DD\");\n            if (!salesByDate[d]) {\n                salesByDate[d] = 0;\n                customersByDate[d] = new Set();\n                ordersByDate[d] = 0;\n            }\n            const amount = typeof row[\"总金额\"] === \"number\" ? row[\"总金额\"] : 0;\n            salesByDate[d] += amount || 0;\n            const customerName = typeof row[\"客户姓名\"] === \"string\" ? row[\"客户姓名\"] : \"\";\n            if (customerName) {\n                customersByDate[d].add(customerName);\n            }\n            ordersByDate[d] += 1;\n        }\n        const trendSales = [];\n        const trendCustomers = [];\n        const trendOrders = [];\n        for (const date of dates){\n            trendSales.push(salesByDate[date] || 0);\n            trendCustomers.push(customersByDate[date]?.size || 0);\n            trendOrders.push(ordersByDate[date] || 0);\n        }\n        const totalLeads = leadsData.length;\n        const statusNew = [\n            \"新建\"\n        ];\n        const statusInProgress = [\n            \"跟进中\"\n        ];\n        const statusWon = [\n            \"已转化\"\n        ];\n        let leadsNeed = 0;\n        let leadsProposal = 0;\n        for (const row of leadsData){\n            const status = row[\"跟进状态\"];\n            if (status && !statusNew.includes(status)) {\n                leadsNeed += 1;\n            }\n            if (status && (statusInProgress.includes(status) || statusWon.includes(status))) {\n                leadsProposal += 1;\n            }\n        }\n        const dealCount = monthlyOrdersCount;\n        const funnelStages = [];\n        const base = totalLeads || 1;\n        funnelStages.push({\n            key: \"leads\",\n            name: \"线索获取\",\n            value: totalLeads,\n            percent: totalLeads / base\n        });\n        funnelStages.push({\n            key: \"needs\",\n            name: \"需求确认\",\n            value: leadsNeed,\n            percent: leadsNeed / base\n        });\n        funnelStages.push({\n            key: \"proposal\",\n            name: \"推产品\",\n            value: leadsProposal,\n            percent: leadsProposal / base\n        });\n        funnelStages.push({\n            key: \"deal\",\n            name: \"成交\",\n            value: dealCount,\n            percent: dealCount / base\n        });\n        const productTotals = {\n            ai: 0,\n            b2b: 0,\n            c2c: 0,\n            intro: 0\n        };\n        for (const row of monthlyOrders){\n            const name = typeof row[\"商品名称\"] === \"string\" ? row[\"商品名称\"] : \"\";\n            const amount = typeof row[\"总金额\"] === \"number\" ? row[\"总金额\"] : 0;\n            const normalized = name.toLowerCase();\n            if (!normalized) {\n                continue;\n            }\n            if (normalized.includes(\"ai\")) {\n                productTotals.ai += amount || 0;\n            } else if (normalized.includes(\"b\") && normalized.includes(\"端\")) {\n                productTotals.b2b += amount || 0;\n            } else if (normalized.includes(\"c\") && normalized.includes(\"端\")) {\n                productTotals.c2c += amount || 0;\n            } else if (normalized.includes(\"入门\")) {\n                productTotals.intro += amount || 0;\n            }\n        }\n        const productSum = productTotals.ai + productTotals.b2b + productTotals.c2c + productTotals.intro || 1;\n        const productsItems = [\n            {\n                key: \"ai\",\n                name: \"AI课\",\n                value: productTotals.ai,\n                percent: productTotals.ai / productSum\n            },\n            {\n                key: \"b2b\",\n                name: \"B端课\",\n                value: productTotals.b2b,\n                percent: productTotals.b2b / productSum\n            },\n            {\n                key: \"c2c\",\n                name: \"C端课\",\n                value: productTotals.c2c,\n                percent: productTotals.c2c / productSum\n            },\n            {\n                key: \"intro\",\n                name: \"入门课\",\n                value: productTotals.intro,\n                percent: productTotals.intro / productSum\n            }\n        ];\n        const channelTotals = {\n            douyin: 0,\n            moments: 0,\n            search: 0,\n            offline: 0,\n            other: 0\n        };\n        for (const row of leadsData){\n            const source = typeof row[\"来源渠道\"] === \"string\" ? row[\"来源渠道\"] : \"\";\n            if (!source) {\n                channelTotals.other += 1;\n                continue;\n            }\n            if (source.includes(\"抖音\")) {\n                channelTotals.douyin += 1;\n            } else if (source.includes(\"朋友圈\")) {\n                channelTotals.moments += 1;\n            } else if (source.includes(\"搜索\")) {\n                channelTotals.search += 1;\n            } else if (source.includes(\"线下\") || source.includes(\"门店\")) {\n                channelTotals.offline += 1;\n            } else {\n                channelTotals.other += 1;\n            }\n        }\n        const channelTotalValue = channelTotals.douyin + channelTotals.moments + channelTotals.search + channelTotals.offline + channelTotals.other || 1;\n        const channelItems = [\n            {\n                key: \"douyin\",\n                name: \"抖音\",\n                value: channelTotals.douyin,\n                percent: channelTotals.douyin / channelTotalValue\n            },\n            {\n                key: \"moments\",\n                name: \"朋友圈\",\n                value: channelTotals.moments,\n                percent: channelTotals.moments / channelTotalValue\n            },\n            {\n                key: \"search\",\n                name: \"搜索引擎\",\n                value: channelTotals.search,\n                percent: channelTotals.search / channelTotalValue\n            },\n            {\n                key: \"offline\",\n                name: \"线下门店\",\n                value: channelTotals.offline,\n                percent: channelTotals.offline / channelTotalValue\n            },\n            {\n                key: \"other\",\n                name: \"其他\",\n                value: channelTotals.other,\n                percent: channelTotals.other / channelTotalValue\n            }\n        ];\n        const response = {\n            summary: {\n                monthlySales: monthlySales,\n                monthlyCustomers,\n                monthlyOrders: monthlyOrdersCount,\n                performance: {\n                    current: monthlySales,\n                    target: targetValue,\n                    ratio: performanceRatio\n                }\n            },\n            trend: {\n                dates,\n                sales: trendSales,\n                customers: trendCustomers,\n                orders: trendOrders\n            },\n            funnel: {\n                stages: funnelStages\n            },\n            products: {\n                items: productsItems\n            },\n            channels: {\n                items: channelItems\n            }\n        };\n        res.status(200).json(response);\n    } catch  {\n        res.status(500).json({\n            error: \"Dashboard统计失败\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7Z0JBQ0VuQixLQUFLO2dCQUNMQyxNQUFNO2dCQUNOdEcsT0FBT2lILGNBQWNHLE1BQU07Z0JBQzNCYixTQUFTVSxjQUFjRyxNQUFNLEdBQUdJO1lBQ2xDO1lBQ0E7Z0JBQ0VuQixLQUFLO2dCQUNMQyxNQUFNO2dCQUNOdEcsT0FBT2lILGNBQWNJLE9BQU87Z0JBQzVCZCxTQUFTVSxjQUFjSSxPQUFPLEdBQUdHO1lBQ25DO1lBQ0E7Z0JBQ0VuQixLQUFLO2dCQUNMQyxNQUFNO2dCQUNOdEcsT0FBT2lILGNBQWNLLEtBQUs7Z0JBQzFCZixTQUFTVSxjQUFjSyxLQUFLLEdBQUdFO1lBQ2pDO1NBQ0Q7UUFFRCxNQUFNRSxXQUE4QjtZQUNsQ0MsU0FBUztnQkFDUGxELGNBQWNBO2dCQUNkSztnQkFDQVgsZUFBZWE7Z0JBQ2Y0QyxhQUFhO29CQUNYQyxTQUFTcEQ7b0JBQ1RxRCxRQUFRNUM7b0JBQ1I2QyxPQUFPNUM7Z0JBQ1Q7WUFDRjtZQUNBNkMsT0FBTztnQkFDTHBHO2dCQUNBcUcsT0FBT3pDO2dCQUNQMEMsV0FBV3pDO2dCQUNYMEMsUUFBUXpDO1lBQ1Y7WUFDQTBDLFFBQVE7Z0JBQ05DLFFBQVFsQztZQUNWO1lBQ0FtQyxVQUFVO2dCQUNSQyxPQUFPdkI7WUFDVDtZQUNBd0IsVUFBVTtnQkFDUkQsT0FBT2Q7WUFDVDtRQUNGO1FBRUFwRixJQUFJUyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDMkU7SUFDdkIsRUFBRSxPQUFNO1FBQ05yRixJQUFJUyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZ0I7SUFDaEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NybS1hZ2VudC13ZWIvLi9wYWdlcy9hcGkvZGFzaGJvYXJkLnRzP2Q2YmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcblxuZnVuY3Rpb24gcmVhZEVudih2YWx1ZTogdW5rbm93bikge1xuICBjb25zdCByYXcgPSB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gU3RyaW5nKHZhbHVlKS50cmltKCkgOiBcIlwiO1xuICBpZiAoIXJhdykge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiByYXcucmVwbGFjZSgvXlsnXCJgXS8sIFwiXCIpLnJlcGxhY2UoL1snXCJgXSQvLCBcIlwiKS50cmltKCk7XG59XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcmVhZEVudihwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwpO1xuY29uc3Qgc3VwYWJhc2VLZXkgPSByZWFkRW52KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWVxuKTtcblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5IHx8IFwiXCIpO1xuXG5pbnRlcmZhY2UgRGFzaGJvYXJkU3VtbWFyeSB7XG4gIG1vbnRobHlTYWxlczogbnVtYmVyO1xuICBtb250aGx5Q3VzdG9tZXJzOiBudW1iZXI7XG4gIG1vbnRobHlPcmRlcnM6IG51bWJlcjtcbiAgcGVyZm9ybWFuY2U6IHtcbiAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgdGFyZ2V0OiBudW1iZXIgfCBudWxsO1xuICAgIHJhdGlvOiBudW1iZXIgfCBudWxsO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgRGFzaGJvYXJkVHJlbmQge1xuICBkYXRlczogc3RyaW5nW107XG4gIHNhbGVzOiBudW1iZXJbXTtcbiAgY3VzdG9tZXJzOiBudW1iZXJbXTtcbiAgb3JkZXJzOiBudW1iZXJbXTtcbn1cblxuaW50ZXJmYWNlIERhc2hib2FyZEZ1bm5lbFN0YWdlIHtcbiAga2V5OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IG51bWJlcjtcbiAgcGVyY2VudDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgRGFzaGJvYXJkUHJvZHVjdHNJdGVtIHtcbiAga2V5OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IG51bWJlcjtcbiAgcGVyY2VudDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgRGFzaGJvYXJkQ2hhbm5lbEl0ZW0ge1xuICBrZXk6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyO1xuICBwZXJjZW50OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBEYXNoYm9hcmRSZXNwb25zZSB7XG4gIHN1bW1hcnk6IERhc2hib2FyZFN1bW1hcnk7XG4gIHRyZW5kOiBEYXNoYm9hcmRUcmVuZDtcbiAgZnVubmVsOiB7XG4gICAgc3RhZ2VzOiBEYXNoYm9hcmRGdW5uZWxTdGFnZVtdO1xuICB9O1xuICBwcm9kdWN0czoge1xuICAgIGl0ZW1zOiBEYXNoYm9hcmRQcm9kdWN0c0l0ZW1bXTtcbiAgfTtcbiAgY2hhbm5lbHM6IHtcbiAgICBpdGVtczogRGFzaGJvYXJkQ2hhbm5lbEl0ZW1bXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0TW9udGhSYW5nZSgpIHtcbiAgY29uc3Qgbm93ID0gZGF5anMoKTtcbiAgY29uc3Qgc3RhcnQgPSBub3cuc3RhcnRPZihcIm1vbnRoXCIpO1xuICBjb25zdCBlbmQgPSBub3cuZW5kT2YoXCJtb250aFwiKTtcbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICBlbmQsXG4gICAgc3RhcnRTdHI6IHN0YXJ0LmZvcm1hdChcIllZWVktTU0tREQgSEg6bW06c3NcIiksXG4gICAgZW5kU3RyOiBlbmQuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbTpzc1wiKVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRMYXN0TkRheXNSYW5nZShkYXlzOiBudW1iZXIpIHtcbiAgY29uc3QgdG9kYXkgPSBkYXlqcygpLnN0YXJ0T2YoXCJkYXlcIik7XG4gIGNvbnN0IHN0YXJ0ID0gdG9kYXkuc3VidHJhY3QoZGF5cyAtIDEsIFwiZGF5XCIpO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIGVuZDogdG9kYXksXG4gICAgc3RhcnRTdHI6IHN0YXJ0LmZvcm1hdChcIllZWVktTU0tREQgMDA6MDA6MDBcIiksXG4gICAgZW5kU3RyOiB0b2RheS5mb3JtYXQoXCJZWVlZLU1NLUREIDIzOjU5OjU5XCIpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRGF0ZUxpc3Qoc3RhcnQ6IGRheWpzLkRheWpzLCBlbmQ6IGRheWpzLkRheWpzKSB7XG4gIGNvbnN0IGRhdGVzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgY3VyID0gc3RhcnQuc3RhcnRPZihcImRheVwiKTtcbiAgY29uc3QgbGFzdCA9IGVuZC5zdGFydE9mKFwiZGF5XCIpO1xuICB3aGlsZSAoY3VyLmlzQmVmb3JlKGxhc3QpIHx8IGN1ci5pc1NhbWUobGFzdCkpIHtcbiAgICBkYXRlcy5wdXNoKGN1ci5mb3JtYXQoXCJZWVlZLU1NLUREXCIpKTtcbiAgICBjdXIgPSBjdXIuYWRkKDEsIFwiZGF5XCIpO1xuICB9XG4gIHJldHVybiBkYXRlcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8RGFzaGJvYXJkUmVzcG9uc2UgfCB7IGVycm9yOiBzdHJpbmcgfT5cbikge1xuICByZXMuc2V0SGVhZGVyKFwiQ2FjaGUtQ29udHJvbFwiLCBcIm5vLXN0b3JlXCIpO1xuICBjb25zdCBleHBlY3RlZFRva2VuID0gcHJvY2Vzcy5lbnYuQ1JNX0FQSV9UT0tFTjtcbiAgY29uc3QgaGVhZGVyVG9rZW4gPSByZXEuaGVhZGVyc1tcIngtY3JtLXRva2VuXCJdO1xuICBjb25zdCB0b2tlbiA9IEFycmF5LmlzQXJyYXkoaGVhZGVyVG9rZW4pID8gaGVhZGVyVG9rZW5bMF0gOiBoZWFkZXJUb2tlbjtcbiAgaWYgKGV4cGVjdGVkVG9rZW4gJiYgdG9rZW4gIT09IGV4cGVjdGVkVG9rZW4pIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlS2V5KSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJTdXBhYmFzZemFjee9rue8uuWksVwiIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIkdFVFwiKSB7XG4gICAgcmVzLnNldEhlYWRlcihcIkFsbG93XCIsIFwiR0VUXCIpO1xuICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoXCJNZXRob2QgTm90IEFsbG93ZWRcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBtb250aFJhbmdlID0gZ2V0TW9udGhSYW5nZSgpO1xuICAgIGNvbnN0IGxhc3QxNVJhbmdlID0gZ2V0TGFzdE5EYXlzUmFuZ2UoMTUpO1xuXG4gICAgY29uc3QgW29yZGVyc1Jlc3VsdCwgbGVhZHNSZXN1bHQsIHN0YWZmUmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwic2FsZXNfb3JkZXJzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5ndGUoXCLorqLljZXml6XmnJ9cIiwgbGFzdDE1UmFuZ2Uuc3RhcnRTdHIpXG4gICAgICAgIC5sdGUoXCLorqLljZXml6XmnJ9cIiwgbGFzdDE1UmFuZ2UuZW5kU3RyKVxuICAgICAgICAuaW4oXCLorqLljZXnirbmgIFcIiwgW1wi5bey5LuY5qy+XCIsIFwi5bey5Y+R6LSnXCIsIFwi5bey5a6M5oiQXCJdKSxcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY3VzdG9tZXJfbGVhZHNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmd0ZShcIuWIm+W7uuaXpeacn1wiLCBtb250aFJhbmdlLnN0YXJ0U3RyKVxuICAgICAgICAubHRlKFwi5Yib5bu65pel5pyfXCIsIG1vbnRoUmFuZ2UuZW5kU3RyKSxcbiAgICAgIHN1cGFiYXNlLmZyb20oXCJzYWxlc19zdGFmZlwiKS5zZWxlY3QoXCIqXCIpXG4gICAgXSk7XG5cbiAgICBpZiAob3JkZXJzUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBvcmRlcnNSZXN1bHQuZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxlYWRzUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBsZWFkc1Jlc3VsdC5lcnJvci5tZXNzYWdlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RhZmZSZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IHN0YWZmUmVzdWx0LmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb3JkZXJzRGF0YSA9IG9yZGVyc1Jlc3VsdC5kYXRhIHx8IFtdO1xuICAgIGNvbnN0IGxlYWRzRGF0YSA9IGxlYWRzUmVzdWx0LmRhdGEgfHwgW107XG4gICAgY29uc3Qgc3RhZmZEYXRhID0gc3RhZmZSZXN1bHQuZGF0YSB8fCBbXTtcblxuICAgIGNvbnN0IG1vbnRobHlPcmRlcnMgPSBvcmRlcnNEYXRhLmZpbHRlcigocm93KSA9PiB7XG4gICAgICBjb25zdCBkYXRlU3RyID0gcm93W1wi6K6i5Y2V5pel5pyfXCJdO1xuICAgICAgaWYgKCFkYXRlU3RyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGQgPSBkYXlqcyhkYXRlU3RyKTtcbiAgICAgIHJldHVybiBkLmlzQWZ0ZXIobW9udGhSYW5nZS5zdGFydCkgfHwgZC5pc1NhbWUobW9udGhSYW5nZS5zdGFydClcbiAgICAgICAgPyBkLmlzQmVmb3JlKG1vbnRoUmFuZ2UuZW5kKSB8fCBkLmlzU2FtZShtb250aFJhbmdlLmVuZClcbiAgICAgICAgOiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGxldCBtb250aGx5U2FsZXMgPSAwO1xuICAgIGNvbnN0IG1vbnRobHlDdXN0b21lclNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGZvciAoY29uc3Qgcm93IG9mIG1vbnRobHlPcmRlcnMpIHtcbiAgICAgIGNvbnN0IGFtb3VudCA9IHR5cGVvZiByb3dbXCLmgLvph5Hpop1cIl0gPT09IFwibnVtYmVyXCIgPyByb3dbXCLmgLvph5Hpop1cIl0gOiAwO1xuICAgICAgbW9udGhseVNhbGVzICs9IGFtb3VudCB8fCAwO1xuICAgICAgY29uc3QgY3VzdG9tZXJOYW1lID1cbiAgICAgICAgdHlwZW9mIHJvd1tcIuWuouaIt+Wnk+WQjVwiXSA9PT0gXCJzdHJpbmdcIiA/IHJvd1tcIuWuouaIt+Wnk+WQjVwiXSA6IFwiXCI7XG4gICAgICBpZiAoY3VzdG9tZXJOYW1lKSB7XG4gICAgICAgIG1vbnRobHlDdXN0b21lclNldC5hZGQoY3VzdG9tZXJOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbW9udGhseUN1c3RvbWVycyA9IG1vbnRobHlDdXN0b21lclNldC5zaXplO1xuICAgIGNvbnN0IG1vbnRobHlPcmRlcnNDb3VudCA9IG1vbnRobHlPcmRlcnMubGVuZ3RoO1xuXG4gICAgbGV0IHRhcmdldFZhbHVlID0gMDtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiBzdGFmZkRhdGEpIHtcbiAgICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgdHlwZW9mIHJvd1tcIumUgOWUruebruagh1wiXSA9PT0gXCJudW1iZXJcIiA/IHJvd1tcIumUgOWUruebruagh1wiXSA6IDA7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHRhcmdldFZhbHVlICs9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwZXJmb3JtYW5jZVJhdGlvID1cbiAgICAgIHRhcmdldFZhbHVlID4gMCA/IG1vbnRobHlTYWxlcyAvIHRhcmdldFZhbHVlIDogMDtcblxuICAgIGNvbnN0IGRhdGVzID0gYnVpbGREYXRlTGlzdChsYXN0MTVSYW5nZS5zdGFydCwgbGFzdDE1UmFuZ2UuZW5kKTtcbiAgICBjb25zdCBzYWxlc0J5RGF0ZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIGNvbnN0IGN1c3RvbWVyc0J5RGF0ZTogUmVjb3JkPHN0cmluZywgU2V0PHN0cmluZz4+ID0ge307XG4gICAgY29uc3Qgb3JkZXJzQnlEYXRlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGRhdGUgb2YgZGF0ZXMpIHtcbiAgICAgIHNhbGVzQnlEYXRlW2RhdGVdID0gMDtcbiAgICAgIGN1c3RvbWVyc0J5RGF0ZVtkYXRlXSA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgb3JkZXJzQnlEYXRlW2RhdGVdID0gMDtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHJvdyBvZiBvcmRlcnNEYXRhKSB7XG4gICAgICBjb25zdCBkYXRlU3RyID0gcm93W1wi6K6i5Y2V5pel5pyfXCJdO1xuICAgICAgaWYgKCFkYXRlU3RyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZCA9IGRheWpzKGRhdGVTdHIpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgICBpZiAoIXNhbGVzQnlEYXRlW2RdKSB7XG4gICAgICAgIHNhbGVzQnlEYXRlW2RdID0gMDtcbiAgICAgICAgY3VzdG9tZXJzQnlEYXRlW2RdID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgIG9yZGVyc0J5RGF0ZVtkXSA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBhbW91bnQgPSB0eXBlb2Ygcm93W1wi5oC76YeR6aKdXCJdID09PSBcIm51bWJlclwiID8gcm93W1wi5oC76YeR6aKdXCJdIDogMDtcbiAgICAgIHNhbGVzQnlEYXRlW2RdICs9IGFtb3VudCB8fCAwO1xuICAgICAgY29uc3QgY3VzdG9tZXJOYW1lID1cbiAgICAgICAgdHlwZW9mIHJvd1tcIuWuouaIt+Wnk+WQjVwiXSA9PT0gXCJzdHJpbmdcIiA/IHJvd1tcIuWuouaIt+Wnk+WQjVwiXSA6IFwiXCI7XG4gICAgICBpZiAoY3VzdG9tZXJOYW1lKSB7XG4gICAgICAgIGN1c3RvbWVyc0J5RGF0ZVtkXS5hZGQoY3VzdG9tZXJOYW1lKTtcbiAgICAgIH1cbiAgICAgIG9yZGVyc0J5RGF0ZVtkXSArPSAxO1xuICAgIH1cblxuICAgIGNvbnN0IHRyZW5kU2FsZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgdHJlbmRDdXN0b21lcnM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgdHJlbmRPcmRlcnM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChjb25zdCBkYXRlIG9mIGRhdGVzKSB7XG4gICAgICB0cmVuZFNhbGVzLnB1c2goc2FsZXNCeURhdGVbZGF0ZV0gfHwgMCk7XG4gICAgICB0cmVuZEN1c3RvbWVycy5wdXNoKGN1c3RvbWVyc0J5RGF0ZVtkYXRlXT8uc2l6ZSB8fCAwKTtcbiAgICAgIHRyZW5kT3JkZXJzLnB1c2gob3JkZXJzQnlEYXRlW2RhdGVdIHx8IDApO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsTGVhZHMgPSBsZWFkc0RhdGEubGVuZ3RoO1xuICAgIGNvbnN0IHN0YXR1c05ldyA9IFtcIuaWsOW7ulwiXTtcbiAgICBjb25zdCBzdGF0dXNJblByb2dyZXNzID0gW1wi6Lef6L+b5LitXCJdO1xuICAgIGNvbnN0IHN0YXR1c1dvbiA9IFtcIuW3sui9rOWMllwiXTtcblxuICAgIGxldCBsZWFkc05lZWQgPSAwO1xuICAgIGxldCBsZWFkc1Byb3Bvc2FsID0gMDtcblxuICAgIGZvciAoY29uc3Qgcm93IG9mIGxlYWRzRGF0YSkge1xuICAgICAgY29uc3Qgc3RhdHVzID0gcm93W1wi6Lef6L+b54q25oCBXCJdO1xuICAgICAgaWYgKHN0YXR1cyAmJiAhc3RhdHVzTmV3LmluY2x1ZGVzKHN0YXR1cykpIHtcbiAgICAgICAgbGVhZHNOZWVkICs9IDE7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzICYmIChzdGF0dXNJblByb2dyZXNzLmluY2x1ZGVzKHN0YXR1cykgfHwgc3RhdHVzV29uLmluY2x1ZGVzKHN0YXR1cykpKSB7XG4gICAgICAgIGxlYWRzUHJvcG9zYWwgKz0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkZWFsQ291bnQgPSBtb250aGx5T3JkZXJzQ291bnQ7XG5cbiAgICBjb25zdCBmdW5uZWxTdGFnZXM6IERhc2hib2FyZEZ1bm5lbFN0YWdlW10gPSBbXTtcbiAgICBjb25zdCBiYXNlID0gdG90YWxMZWFkcyB8fCAxO1xuXG4gICAgZnVubmVsU3RhZ2VzLnB1c2goe1xuICAgICAga2V5OiBcImxlYWRzXCIsXG4gICAgICBuYW1lOiBcIue6v+e0ouiOt+WPllwiLFxuICAgICAgdmFsdWU6IHRvdGFsTGVhZHMsXG4gICAgICBwZXJjZW50OiB0b3RhbExlYWRzIC8gYmFzZVxuICAgIH0pO1xuICAgIGZ1bm5lbFN0YWdlcy5wdXNoKHtcbiAgICAgIGtleTogXCJuZWVkc1wiLFxuICAgICAgbmFtZTogXCLpnIDmsYLnoa7orqRcIixcbiAgICAgIHZhbHVlOiBsZWFkc05lZWQsXG4gICAgICBwZXJjZW50OiBsZWFkc05lZWQgLyBiYXNlXG4gICAgfSk7XG4gICAgZnVubmVsU3RhZ2VzLnB1c2goe1xuICAgICAga2V5OiBcInByb3Bvc2FsXCIsXG4gICAgICBuYW1lOiBcIuaOqOS6p+WTgVwiLFxuICAgICAgdmFsdWU6IGxlYWRzUHJvcG9zYWwsXG4gICAgICBwZXJjZW50OiBsZWFkc1Byb3Bvc2FsIC8gYmFzZVxuICAgIH0pO1xuICAgIGZ1bm5lbFN0YWdlcy5wdXNoKHtcbiAgICAgIGtleTogXCJkZWFsXCIsXG4gICAgICBuYW1lOiBcIuaIkOS6pFwiLFxuICAgICAgdmFsdWU6IGRlYWxDb3VudCxcbiAgICAgIHBlcmNlbnQ6IGRlYWxDb3VudCAvIGJhc2VcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb2R1Y3RUb3RhbHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgICBhaTogMCxcbiAgICAgIGIyYjogMCxcbiAgICAgIGMyYzogMCxcbiAgICAgIGludHJvOiAwXG4gICAgfTtcblxuICAgIGZvciAoY29uc3Qgcm93IG9mIG1vbnRobHlPcmRlcnMpIHtcbiAgICAgIGNvbnN0IG5hbWUgPVxuICAgICAgICB0eXBlb2Ygcm93W1wi5ZWG5ZOB5ZCN56ewXCJdID09PSBcInN0cmluZ1wiID8gcm93W1wi5ZWG5ZOB5ZCN56ewXCJdIDogXCJcIjtcbiAgICAgIGNvbnN0IGFtb3VudCA9IHR5cGVvZiByb3dbXCLmgLvph5Hpop1cIl0gPT09IFwibnVtYmVyXCIgPyByb3dbXCLmgLvph5Hpop1cIl0gOiAwO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghbm9ybWFsaXplZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub3JtYWxpemVkLmluY2x1ZGVzKFwiYWlcIikpIHtcbiAgICAgICAgcHJvZHVjdFRvdGFscy5haSArPSBhbW91bnQgfHwgMDtcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZC5pbmNsdWRlcyhcImJcIikgJiYgbm9ybWFsaXplZC5pbmNsdWRlcyhcIuerr1wiKSkge1xuICAgICAgICBwcm9kdWN0VG90YWxzLmIyYiArPSBhbW91bnQgfHwgMDtcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZC5pbmNsdWRlcyhcImNcIikgJiYgbm9ybWFsaXplZC5pbmNsdWRlcyhcIuerr1wiKSkge1xuICAgICAgICBwcm9kdWN0VG90YWxzLmMyYyArPSBhbW91bnQgfHwgMDtcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZC5pbmNsdWRlcyhcIuWFpemXqFwiKSkge1xuICAgICAgICBwcm9kdWN0VG90YWxzLmludHJvICs9IGFtb3VudCB8fCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb2R1Y3RTdW0gPVxuICAgICAgcHJvZHVjdFRvdGFscy5haSArXG4gICAgICBwcm9kdWN0VG90YWxzLmIyYiArXG4gICAgICBwcm9kdWN0VG90YWxzLmMyYyArXG4gICAgICBwcm9kdWN0VG90YWxzLmludHJvIHx8IDE7XG5cbiAgICBjb25zdCBwcm9kdWN0c0l0ZW1zOiBEYXNoYm9hcmRQcm9kdWN0c0l0ZW1bXSA9IFtcbiAgICAgIHtcbiAgICAgICAga2V5OiBcImFpXCIsXG4gICAgICAgIG5hbWU6IFwiQUnor75cIixcbiAgICAgICAgdmFsdWU6IHByb2R1Y3RUb3RhbHMuYWksXG4gICAgICAgIHBlcmNlbnQ6IHByb2R1Y3RUb3RhbHMuYWkgLyBwcm9kdWN0U3VtXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6IFwiYjJiXCIsXG4gICAgICAgIG5hbWU6IFwiQuerr+ivvlwiLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdFRvdGFscy5iMmIsXG4gICAgICAgIHBlcmNlbnQ6IHByb2R1Y3RUb3RhbHMuYjJiIC8gcHJvZHVjdFN1bVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBcImMyY1wiLFxuICAgICAgICBuYW1lOiBcIkPnq6/or75cIixcbiAgICAgICAgdmFsdWU6IHByb2R1Y3RUb3RhbHMuYzJjLFxuICAgICAgICBwZXJjZW50OiBwcm9kdWN0VG90YWxzLmMyYyAvIHByb2R1Y3RTdW1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogXCJpbnRyb1wiLFxuICAgICAgICBuYW1lOiBcIuWFpemXqOivvlwiLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdFRvdGFscy5pbnRybyxcbiAgICAgICAgcGVyY2VudDogcHJvZHVjdFRvdGFscy5pbnRybyAvIHByb2R1Y3RTdW1cbiAgICAgIH1cbiAgICBdO1xuXG4gICAgY29uc3QgY2hhbm5lbFRvdGFsczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAgIGRvdXlpbjogMCxcbiAgICAgIG1vbWVudHM6IDAsXG4gICAgICBzZWFyY2g6IDAsXG4gICAgICBvZmZsaW5lOiAwLFxuICAgICAgb3RoZXI6IDBcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCByb3cgb2YgbGVhZHNEYXRhKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPVxuICAgICAgICB0eXBlb2Ygcm93W1wi5p2l5rqQ5rig6YGTXCJdID09PSBcInN0cmluZ1wiID8gcm93W1wi5p2l5rqQ5rig6YGTXCJdIDogXCJcIjtcbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIGNoYW5uZWxUb3RhbHMub3RoZXIgKz0gMTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc291cmNlLmluY2x1ZGVzKFwi5oqW6Z+zXCIpKSB7XG4gICAgICAgIGNoYW5uZWxUb3RhbHMuZG91eWluICs9IDE7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZS5pbmNsdWRlcyhcIuaci+WPi+WciFwiKSkge1xuICAgICAgICBjaGFubmVsVG90YWxzLm1vbWVudHMgKz0gMTtcbiAgICAgIH0gZWxzZSBpZiAoc291cmNlLmluY2x1ZGVzKFwi5pCc57SiXCIpKSB7XG4gICAgICAgIGNoYW5uZWxUb3RhbHMuc2VhcmNoICs9IDE7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZS5pbmNsdWRlcyhcIue6v+S4i1wiKSB8fCBzb3VyY2UuaW5jbHVkZXMoXCLpl6jlupdcIikpIHtcbiAgICAgICAgY2hhbm5lbFRvdGFscy5vZmZsaW5lICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFubmVsVG90YWxzLm90aGVyICs9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbm5lbFRvdGFsVmFsdWUgPVxuICAgICAgY2hhbm5lbFRvdGFscy5kb3V5aW4gK1xuICAgICAgY2hhbm5lbFRvdGFscy5tb21lbnRzICtcbiAgICAgIGNoYW5uZWxUb3RhbHMuc2VhcmNoICtcbiAgICAgIGNoYW5uZWxUb3RhbHMub2ZmbGluZSArXG4gICAgICBjaGFubmVsVG90YWxzLm90aGVyIHx8IDE7XG5cbiAgICBjb25zdCBjaGFubmVsSXRlbXM6IERhc2hib2FyZENoYW5uZWxJdGVtW10gPSBbXG4gICAgICB7XG4gICAgICAgIGtleTogXCJkb3V5aW5cIixcbiAgICAgICAgbmFtZTogXCLmipbpn7NcIixcbiAgICAgICAgdmFsdWU6IGNoYW5uZWxUb3RhbHMuZG91eWluLFxuICAgICAgICBwZXJjZW50OiBjaGFubmVsVG90YWxzLmRvdXlpbiAvIGNoYW5uZWxUb3RhbFZhbHVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6IFwibW9tZW50c1wiLFxuICAgICAgICBuYW1lOiBcIuaci+WPi+WciFwiLFxuICAgICAgICB2YWx1ZTogY2hhbm5lbFRvdGFscy5tb21lbnRzLFxuICAgICAgICBwZXJjZW50OiBjaGFubmVsVG90YWxzLm1vbWVudHMgLyBjaGFubmVsVG90YWxWYWx1ZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBcInNlYXJjaFwiLFxuICAgICAgICBuYW1lOiBcIuaQnOe0ouW8leaTjlwiLFxuICAgICAgICB2YWx1ZTogY2hhbm5lbFRvdGFscy5zZWFyY2gsXG4gICAgICAgIHBlcmNlbnQ6IGNoYW5uZWxUb3RhbHMuc2VhcmNoIC8gY2hhbm5lbFRvdGFsVmFsdWVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogXCJvZmZsaW5lXCIsXG4gICAgICAgIG5hbWU6IFwi57q/5LiL6Zeo5bqXXCIsXG4gICAgICAgIHZhbHVlOiBjaGFubmVsVG90YWxzLm9mZmxpbmUsXG4gICAgICAgIHBlcmNlbnQ6IGNoYW5uZWxUb3RhbHMub2ZmbGluZSAvIGNoYW5uZWxUb3RhbFZhbHVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6IFwib3RoZXJcIixcbiAgICAgICAgbmFtZTogXCLlhbbku5ZcIixcbiAgICAgICAgdmFsdWU6IGNoYW5uZWxUb3RhbHMub3RoZXIsXG4gICAgICAgIHBlcmNlbnQ6IGNoYW5uZWxUb3RhbHMub3RoZXIgLyBjaGFubmVsVG90YWxWYWx1ZVxuICAgICAgfVxuICAgIF07XG5cbiAgICBjb25zdCByZXNwb25zZTogRGFzaGJvYXJkUmVzcG9uc2UgPSB7XG4gICAgICBzdW1tYXJ5OiB7XG4gICAgICAgIG1vbnRobHlTYWxlczogbW9udGhseVNhbGVzLFxuICAgICAgICBtb250aGx5Q3VzdG9tZXJzLFxuICAgICAgICBtb250aGx5T3JkZXJzOiBtb250aGx5T3JkZXJzQ291bnQsXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgY3VycmVudDogbW9udGhseVNhbGVzLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0VmFsdWUsXG4gICAgICAgICAgcmF0aW86IHBlcmZvcm1hbmNlUmF0aW9cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRyZW5kOiB7XG4gICAgICAgIGRhdGVzLFxuICAgICAgICBzYWxlczogdHJlbmRTYWxlcyxcbiAgICAgICAgY3VzdG9tZXJzOiB0cmVuZEN1c3RvbWVycyxcbiAgICAgICAgb3JkZXJzOiB0cmVuZE9yZGVyc1xuICAgICAgfSxcbiAgICAgIGZ1bm5lbDoge1xuICAgICAgICBzdGFnZXM6IGZ1bm5lbFN0YWdlc1xuICAgICAgfSxcbiAgICAgIHByb2R1Y3RzOiB7XG4gICAgICAgIGl0ZW1zOiBwcm9kdWN0c0l0ZW1zXG4gICAgICB9LFxuICAgICAgY2hhbm5lbHM6IHtcbiAgICAgICAgaXRlbXM6IGNoYW5uZWxJdGVtc1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXNwb25zZSk7XG4gIH0gY2F0Y2gge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiRGFzaGJvYXJk57uf6K6h5aSx6LSlXCIgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJkYXlqcyIsInJlYWRFbnYiLCJ2YWx1ZSIsInJhdyIsInVuZGVmaW5lZCIsIlN0cmluZyIsInRyaW0iLCJyZXBsYWNlIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIlNVUEFCQVNFX1NFUlZJQ0VfS0VZIiwic3VwYWJhc2UiLCJnZXRNb250aFJhbmdlIiwibm93Iiwic3RhcnQiLCJzdGFydE9mIiwiZW5kIiwiZW5kT2YiLCJzdGFydFN0ciIsImZvcm1hdCIsImVuZFN0ciIsImdldExhc3RORGF5c1JhbmdlIiwiZGF5cyIsInRvZGF5Iiwic3VidHJhY3QiLCJidWlsZERhdGVMaXN0IiwiZGF0ZXMiLCJjdXIiLCJsYXN0IiwiaXNCZWZvcmUiLCJpc1NhbWUiLCJwdXNoIiwiYWRkIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsImV4cGVjdGVkVG9rZW4iLCJDUk1fQVBJX1RPS0VOIiwiaGVhZGVyVG9rZW4iLCJoZWFkZXJzIiwidG9rZW4iLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXRob2QiLCJtb250aFJhbmdlIiwibGFzdDE1UmFuZ2UiLCJvcmRlcnNSZXN1bHQiLCJsZWFkc1Jlc3VsdCIsInN0YWZmUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsImZyb20iLCJzZWxlY3QiLCJndGUiLCJsdGUiLCJpbiIsIm1lc3NhZ2UiLCJvcmRlcnNEYXRhIiwiZGF0YSIsImxlYWRzRGF0YSIsInN0YWZmRGF0YSIsIm1vbnRobHlPcmRlcnMiLCJmaWx0ZXIiLCJyb3ciLCJkYXRlU3RyIiwiZCIsImlzQWZ0ZXIiLCJtb250aGx5U2FsZXMiLCJtb250aGx5Q3VzdG9tZXJTZXQiLCJTZXQiLCJhbW91bnQiLCJjdXN0b21lck5hbWUiLCJtb250aGx5Q3VzdG9tZXJzIiwic2l6ZSIsIm1vbnRobHlPcmRlcnNDb3VudCIsImxlbmd0aCIsInRhcmdldFZhbHVlIiwicGVyZm9ybWFuY2VSYXRpbyIsInNhbGVzQnlEYXRlIiwiY3VzdG9tZXJzQnlEYXRlIiwib3JkZXJzQnlEYXRlIiwiZGF0ZSIsInRyZW5kU2FsZXMiLCJ0cmVuZEN1c3RvbWVycyIsInRyZW5kT3JkZXJzIiwidG90YWxMZWFkcyIsInN0YXR1c05ldyIsInN0YXR1c0luUHJvZ3Jlc3MiLCJzdGF0dXNXb24iLCJsZWFkc05lZWQiLCJsZWFkc1Byb3Bvc2FsIiwiaW5jbHVkZXMiLCJkZWFsQ291bnQiLCJmdW5uZWxTdGFnZXMiLCJiYXNlIiwia2V5IiwibmFtZSIsInBlcmNlbnQiLCJwcm9kdWN0VG90YWxzIiwiYWkiLCJiMmIiLCJjMmMiLCJpbnRybyIsIm5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsInByb2R1Y3RTdW0iLCJwcm9kdWN0c0l0ZW1zIiwiY2hhbm5lbFRvdGFscyIsImRvdXlpbiIsIm1vbWVudHMiLCJzZWFyY2giLCJvZmZsaW5lIiwib3RoZXIiLCJzb3VyY2UiLCJjaGFubmVsVG90YWxWYWx1ZSIsImNoYW5uZWxJdGVtcyIsInJlc3BvbnNlIiwic3VtbWFyeSIsInBlcmZvcm1hbmNlIiwiY3VycmVudCIsInRhcmdldCIsInJhdGlvIiwidHJlbmQiLCJzYWxlcyIsImN1c3RvbWVycyIsIm9yZGVycyIsImZ1bm5lbCIsInN0YWdlcyIsInByb2R1Y3RzIiwiaXRlbXMiLCJjaGFubmVscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/dashboard.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();